<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Moireu v1.8 (Pastel Pink — Replies)</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

  <div id="app">

    <!-- Top bar -->
    <header class="topbar">
      <div class="top-left">
        <button id="btn-sidebar" class="icon-btn" aria-label="Open menu">☰</button>
        <div class="brand">Moireu</div>
      </div>
      <div class="top-actions">
        <button id="btn-create-post" class="primary-btn">[ CREATE POST ? ]</button>
      </div>
    </header>

    <!-- Sidebar / nav (slides in on mobile) -->
    <aside id="sidebar" class="sidebar" aria-hidden="true">
      <nav>
        <button class="nav-btn" data-target="feedTab">❀  | MY PROFILE</button>
        <button class="nav-btn" data-target="dmsTab">❀  | DIRECT MESSAGES</button>
        <button class="nav-btn" data-target="eventsTab">❀  | EVENTS</button>
        <button class="nav-btn" data-target="charactersTab">❀  | CHARACTERS</button>
        <button class="nav-btn" data-target="universeTab">❀  | UNIVERSE</button>
        <button class="nav-btn" data-target="settingsTab">❀  | SETTINGS</button>
      </nav>
      <button id="btn-close-sidebar" class="link-btn">Close</button>
    </aside>

    <!-- Main view container -->
    <main id="view-root" class="view-root">

      <!-- GLOBAL FEED (default) -->
      <section id="feedTab" class="view">
        <div class="panel">
          <h2 class="panel-title">GLOBAL FEED</h2>
          <div id="postsContainer" class="posts"></div>
          <div class="load-more-wrap"><button id="btn-load-more" class="link-btn">Load older posts</button></div>
        </div>
      </section>

      <!-- POST EDITOR -->
      <section id="postTab" class="view hidden">
        <div class="panel editor">
          <div class="panel-title">POST</div>
          <label>Display Name</label>
          <input id="post-displayName" type="text" />
          <label>Username</label>
          <input id="post-username" type="text" />
          <label>Content</label>
          <textarea id="post-content" rows="6"></textarea>
          <div class="meta-row">
            <div>Likes: <span id="post-likes">—</span></div>
            <div>Replies: <span id="post-replies">—</span></div>
          </div>
          <div class="actions">
            <button id="btn-publish-post" class="primary-btn">[ → ] Publish</button>
            <button id="btn-cancel-post" class="link-btn">Cancel</button>
          </div>
        </div>
      </section>

      <!-- CHARACTERS LIST -->
      <section id="charactersTab" class="view hidden">
        <div class="panel">
          <div class="panel-head">
            <button class="back-btn" data-target="feedTab">←</button>
            <h2>CHARACTER LIST</h2>
          </div>
          <div class="actions"><button id="btn-create-character" class="primary-btn">[ CREATE CHARACTER ]</button></div>
          <div id="charactersContainer" class="list"></div>
        </div>
      </section>

      <!-- PROFILE EDITOR (used for MY PROFILE and characters) -->
      <section id="profileTab" class="view hidden">
        <div class="panel profile">
          <div class="panel-head">
            <button class="back-btn" data-target="charactersTab">←</button>
            <h2 class="visually-profile-title">PROFILE</h2>
          </div>

          <input id="profile-displayName" class="profile-displayName" placeholder="Display Name" />
          <div class="username-wrap">
            <input id="profile-username" class="profile-username" placeholder="username (no @)" />
          </div>
          <textarea id="profile-bio" rows="2" class="profile-bio" placeholder="Bio text"></textarea>

          <div class="meta-row profile-meta">
            <button id="btn-open-dm" class="icon-btn">✉︎</button>
            <div class="followers-wrap">
              <input id="profile-followers" type="number" min="0" class="profile-followers" />
              <span class="followers-label">Followers</span>
            </div>
          </div>

          <label class="section-label">❀ | DESCRIPTION:</label>
          <textarea id="profile-description" class="profile-description" rows="3"></textarea>

          <label class="section-label">❀ | RELATIONSHIPS:</label>
          <textarea id="profile-relationships" class="profile-relationships" rows="3"></textarea>

          <div class="meta-row">
            <label class="section-label">❀ | POPULARITY: LIKES =</label>
            <input id="profile-likes-min" type="number" placeholder="min" />
            <span class="to-text">to</span>
            <input id="profile-likes-max" type="number" placeholder="max" />
          </div>

          <div class="actions">
            <button id="btn-save-profile" class="primary-btn">[ ✧ ]</button>
            <button id="btn-delete-profile" class="link-btn">Delete</button>
          </div>
        </div>
      </section>

      <!-- UNIVERSE -->
      <section id="universeTab" class="view hidden">
        <div class="panel">
          <div class="panel-head">
            <button class="back-btn" data-target="feedTab">←</button>
            <h2>UNIVERSE</h2>
          </div>
          <label class="sr-only" for="universeText">Universe Description</label>
          <textarea id="universeText" rows="8" placeholder="Write the universe description here..."></textarea>
          <div class="actions">
            <button id="btn-save-universe" class="primary-btn">[ ✧ ]</button>
          </div>
        </div>
      </section>

      <!-- DIRECT MESSAGES -->
      <section id="dmsTab" class="view hidden">
        <div class="panel">
          <div class="panel-head">
            <button class="back-btn" data-target="feedTab">←</button>
            <h2>DIRECT MESSAGES</h2>
          </div>
          <div class="actions"><button id="btn-new-conversation" class="primary-btn">❀  | NEW CONVERSATION ?</button></div>
          <div id="conversationsContainer" class="list"></div>
        </div>
      </section>

      <!-- DM CHAT -->
      <section id="dmTab" class="view hidden">
        <div class="panel dm-panel">
          <div class="panel-head">
            <button class="back-btn" data-target="dmsTab">←</button>
            <div id="dmTitle"></div>
          </div>
          <div id="dmMessages" class="dm-messages"></div>
          <div class="dm-composer">
            <textarea id="dmInput" rows="2" placeholder="Message..."></textarea>
            <button id="dmSend" class="primary-btn">Send</button>
          </div>
        </div>
      </section>

      <!-- REPLIES (new per-post replies thread) -->
      <section id="repliesTab" class="view hidden">
        <div class="panel replies-panel">
          <div class="panel-head">
            <button class="back-btn" data-target="feedTab">←</button>
            <h2>REPLIES</h2>
          </div>

          <!-- The selected post is rendered here -->
          <div id="repliesPost" class="post"></div>

          <div class="actions">
            <button id="btn-new-reply" class="primary-btn">[ REPLY ? ]</button>
          </div>

          <div class="completed-replies">
            <h3 class="panel-title">Completed Replies</h3>
            <div id="repliesContainer" class="list"></div>
          </div>
        </div>
      </section>

      <!-- BLANK REPLY editor -->
      <section id="replyEditorTab" class="view hidden">
        <div class="panel editor reply-editor">
          <div class="panel-head">
            <button class="back-btn" data-target="repliesTab">←</button>
            <h2>REPLY</h2>
          </div>

          <div class="reply-meta">
            <div id="reply-editor-displayName" class="reply-displayName"></div>
            <div id="reply-editor-username" class="reply-username muted"></div>
          </div>

          <div class="reply-target muted" id="reply-target-line"></div>

          <label class="sr-only" for="reply-content">Reply text</label>
          <textarea id="reply-content" rows="5" placeholder="Write your reply..."></textarea>

          <div class="meta-row">
            <div>Likes: <span id="reply-likes">—</span></div>
            <div class="actions">
              <button id="btn-publish-reply" class="primary-btn">[ → ]</button>
            </div>
          </div>
        </div>
      </section>

      <!-- EVENTS -->
      <section id="eventsTab" class="view hidden">
        <div class="panel">
          <h2>Events</h2>
          <p>(Events UI placeholder)</p>
        </div>
      </section>

      <!-- SETTINGS -->
      <section id="settingsTab" class="view hidden">
        <div class="panel">
          <h2>Settings</h2>
          <p>(Settings placeholder)</p>
        </div>
      </section>

    </main>
  </div>

<script src="app.js"></script>
</body>
</html>
